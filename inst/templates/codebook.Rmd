---
title: "Codebook for '{{{ project }}}'"
output: html_document
---

```{r global_options, include=FALSE}
knitr::opts_chunk$set(echo=FALSE, warning=FALSE, message=FALSE)

get_value_table <- function(var) {

  labs <- labelled::val_labels(var)

  if (!is.null(labs)) {
    val_labels <- tibble::enframe(labs, "Label", "Value")
  } else {
    val_labels <- tibble::tibble(values = sort(unique(var)))
  }

  val_labels %>%
    dplyr::full_join(table(var, useNA = "ifany") %>%
                       tibble::enframe("Value", "n") %>%
                       dplyr::mutate(Value = as.integer(.data$Value)),
                     by = "Value") %>%
    dplyr::select("Value", "Label", "n")
}

library(magrittr)
```

{{{ load_data }}}

# Project information
* Subjects = {{{ subjects }}}
* Variables = {{{ variables }}}
* Started: {{{ started }}}
* Ended: {{{ ended }}}

# Variable information

{{{ codebook }}}
